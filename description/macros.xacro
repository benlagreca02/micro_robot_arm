<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

    <material name="white">
        <color rgba="1 1 1 1"/>
    </material>

    <material name="blue">
        <color rgba="0 0 1 1"/>
    </material>

    <material name="red">
        <color rgba="1 0 0 1"/>
    </material>

    <material name="cyan">
        <color rgba="0 1 1 1"/>
    </material>

    <xacro:macro name="microServo" params="parent child origin axis">
        <joint name="${parent}-to-${child}-servo" type="revolute">
            <origin xyz="${origin}"/>
            <parent link="${parent}"/>
            <child link="${child}"/>
            <!-- axis of rotation, normalized -->
            <axis xyz="${axis}"/>
            <!-- limits of rotation (in radians) and movement -->
            <!-- TODO it might be nice to figure out how to 'macro' pi
            something like "${pi}" is possible but this is just a 
            simple test for now... -->
            <limit lower="-1.570796" upper="1.570796" effort="100" velocity="100"/>
        </joint>

        <!--
        <transmission name="${parent}-${child}-servo-trans">
            <type>transmission_interface/SimpleTransmission</type>
            <actuator name="${parent}-to-${child}">
              <mechanicalReduction>1</mechanicalReduction>
            </actuator>
            <joint name="${parent}-to-${child}-servo">
              <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
            </joint>
        </transmission> -->
    </xacro:macro>

    <xacro:macro name="arm-segment" params="number origin size material">
        <link name="s${number}">
            <visual>
                <origin xyz="${origin}"/>
                <geometry> <box size="${size}"/> </geometry>
                <material name="${material}"/> 
            </visual>
            <collision>
                <origin xyz="${origin}"/>
                <geometry> <box size="${size}"/> </geometry>
            </collision>
        </link>
    </xacro:macro>
</robot>
